(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[613],{8592:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/signup",function(){return s(9626)}])},9626:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return f}});var n=s(5893),t=s(1664),a=s(1163),o=s(7294),i=s(5666),l=s.n(i),c=s(8767),u=s(997);function d(e,r,s,n,t,a,o){try{var i=e[a](o),l=i.value}catch(c){return void s(c)}i.done?r(l):Promise.resolve(l).then(n,t)}function m(e){return function(){var r=this,s=arguments;return new Promise((function(n,t){var a=e.apply(r,s);function o(e){d(a,n,t,o,i,"next",e)}function i(e){d(a,n,t,o,i,"throw",e)}o(void 0)}))}}var x=m(l().mark((function e(r){var s,n,t,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.O.from("users").select("*").eq("username",r.username).single();case 2:if(s=e.sent,!s.data){e.next=7;break}throw console.log(r),new Error("User with username exists");case 7:return e.next=9,u.O.auth.signUp({email:r.email,password:r.password});case 9:if(n=e.sent,t=n.user,!(a=n.error)){e.next=15;break}throw console.log("Error bhai"),a;case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}}),e)})));function f(){var e,r=(0,a.useRouter)(),s=(0,o.useState)(""),i=s[0],d=s[1],f=(0,o.useState)(""),h=f[0],p=f[1],g=(0,o.useState)(""),b=g[0],w=g[1],v=(0,o.useState)(""),j=v[0],y=v[1],N=(e={email:i,password:h,name:b,username:j},(0,c.useMutation)((function(){return x(e)}),{onSuccess:m(l().mark((function r(s){var n,t,a;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.O.from("users").insert({name:e.name,username:e.username,id:s.id});case 2:if(n=r.sent,t=n.data,!(a=n.error)){r.next=7;break}throw a;case 7:return r.abrupt("return",t);case 8:case"end":return r.stop()}}),r)})))}));return N.isSuccess&&r.push("/"),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"min-h-full flex",children:(0,n.jsx)("div",{className:"flex-1 flex flex-col justify-center py-12 px-4 sm:px-6 lg:flex-none lg:px-20 xl:px-24",children:(0,n.jsxs)("div",{className:"mx-auto w-full max-w-sm lg:w-96",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("img",{className:"h-12 w-auto",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-600.svg",alt:"Workflow"}),(0,n.jsx)("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),(0,n.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",(0,n.jsx)("a",{href:"#",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"start your 14-day free trial"})]})]}),(0,n.jsxs)("div",{className:"mt-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,n.jsx)("div",{className:"mt-1",children:(0,n.jsx)("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,onChange:function(e){return w(e.target.value)},className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),(0,n.jsxs)("div",{className:"space-y-1",children:[(0,n.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),(0,n.jsx)("div",{className:"mt-1",children:(0,n.jsx)("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,onChange:function(e){return y(e.target.value)},className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),(0,n.jsxs)("div",{className:"space-y-1",children:[(0,n.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),(0,n.jsx)("div",{className:"mt-1",children:(0,n.jsx)("input",{id:"email",name:"email",type:"text",autoComplete:"email",required:!0,onChange:function(e){return d(e.target.value)},className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),(0,n.jsxs)("div",{className:"space-y-1",children:[(0,n.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,n.jsx)("div",{className:"mt-1",children:(0,n.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,onChange:function(e){return p(e.target.value)},className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,n.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),(0,n.jsx)("div",{className:"text-sm",children:(0,n.jsx)(t.default,{href:"/auth/login",children:(0,n.jsx)("a",{className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Already Have An Account?"})})})]}),N.isError&&(0,n.jsx)("p",{className:"text-sm mb-8 text-red-500",children:N.error.message}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:function(){N.mutate()},children:N.isLoading?(0,n.jsx)("span",{children:"Loading..."}):(0,n.jsx)("span",{children:"Sign Up"})})})]})]})})})})}}},function(e){e.O(0,[774,888,179],(function(){return r=8592,e(e.s=r);var r}));var r=e.O();_N_E=r}]);